<!doctype html>
<html>
<head>
   <meta charset = "UTF-8">
   <title></title>
   <!--jQuery import방식 2(CDN방식)-->
    <script src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
   
   <script>
      /*실습: 행과 열 값을 읽어서 테이블 만들기
      val()메소드: value값 읽기, 설정하기
      1. 클릭이벤트 연결
      2. input태그값 읽어오기(행, 열)-->다 text로 읽어짐
      3. 행, 열 값에 맞추어 table태그 생성
      4. 원하는 위치(myDiv)에 table 태그 추가
      */
      $().ready(function(){
         initEvent();
      });

      function initEvent(){
         //1.클릭이벤트 연결   
         $("#btn").on("click", btnMakeTable);
      };

      function btnMakeTable(){
            //2. input태그값 읽어오기(행, 열)
            //js방식: var row = document.getElementById("row").value;
            var rowCnt = $("#row").val();
            var colCnt = $("#col").val();
            console.log("row: "+rowCnt+", col: "+colCnt);
            
            var htmlTag = makeTable(rowCnt, colCnt);
            //4. 원하는 위치(#myDiv)에 table 태그 추가
            $("#myDiv").html(htmlTag);
         };

         function makeTable(rowCnt, colCnt){
            //3. 행, 열값에 맞추어 table태그 생성
            var htmlTag = "<table>";
            htmlTag += "<thead>";
            htmlTag += "<tr>"
            //컬럼의 갯수만큼 th 태그 만들기
            for(var i=1; i<=colCnt; i++){
               htmlTag += "<th>항목"+i+"</th>"
            }
            htmlTag += "</tr>"
            htmlTag += "</thead>";
            
            //tbody영역 작성
            htmlTag += "<tbody>";
            //tr태그만들기
            htmlTag += "<tr>";
            
            //td에 대하여 반복하니까 그부분 이중 for문으로 처리
            
            for(let row=1; row<=rowCnt; row++){
               htmlTag += "<tr>";
               for(let col=1; col<=colCnt; col++){   //td태그만들기
               htmlTag+="<td>데이터"+ row + ", " + col +"</td>";
               }
               htmlTag += "</tr>";
            }

            htmlTag += "</tr>";
            htmlTag += "</tbody>";
            htmlTag += "</table>";
            
            return htmlTag;
         };
      
   </script>
   <style>
      table{border: 1px solid black;}
      th, td{border: 1px solid black;}
      th{background-color: grey;}
      #myDiv{background-color: yellow;}
   </style>
</head>
<body>
   <h2>테이블 동적 생성</h2>
   <input type="text" id="row" size="5" value="2">행 &nbsp;
   <input type="text" id="col" size="5" value="3">열 &nbsp;
   <button id="btn">테이블생성</button>
   <hr>
   <div id="myDiv">
      동적으로 테이블 생성할 영역
   </div>
   <hr>
   <div>
      <h3>(참고)th제외하고, 2행 3열 테이블 </h3>
      <table>
         <thead>
            <tr>
               <th>항목1</th>
               <th>항목2</th>
               <th>항목3</th>
            </tr>            
         </thead>
         <tbody>
            <tr>
               <td>2, 1</td>
               <td>2, 2</td>
               <td>2 ,3</td>
            </tr>
            <tr>
               <td>3, 1</td>
               <td>3, 2</td>
               <td>3 ,3</td>
            </tr>
         </tbody>
      </table>
   </div>
</body>
</html>